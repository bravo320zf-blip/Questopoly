/* ================================================================
   [07] MOBILE SCALING CORRECTION
   Paste this at the very bottom of your <style> section
   ================================================================ */
@media only screen and (max-width: 768px) {

    /* --- [A] CHARACTER CREATION FIXES (KEEPING THIS) --- */

    /* 1. Force grids to 2 columns so they don't overflow */
    .sel-grid, .skill-grid { 
        grid-template-columns: 1fr 1fr !important; 
        width: 100% !important;
        gap: 5px !important;
    }

    /* 2. Allow cards to shrink/grow to fit the new grid */
    .sel-opt, .skill-card { 
        width: auto !important; 
        min-width: 0 !important; 
        padding: 10px !important;
    }
    
    /* 3. Fix Input fields and Labels being too wide */
    .input-group input { 
        width: 90vw !important; /* Use Viewport Width */
        max-width: 300px; 
    }
    .input-group label { font-size: 1.5rem !important; }
    
    /* 4. Ensure the main container doesn't have huge padding pushing things off */
    #create-screen { padding: 40px 10px !important; }

    /* 5. Big Buttons for Start Screen & Create Screen */
    #splash-screen h1 { font-size: 12vmin !important; }
    #splash-screen button, #create-screen button {
        font-size: 1.2rem !important; /* Readable size on phone */
        padding: 15px 30px !important; /* Tappable area */
        border-width: 2px !important;
        width: auto !important;
        max-width: 80%;
    }
    
    #btn-start-game {
        width: 90% !important;
        font-size: 1.5rem !important;
        padding: 20px !important;
        margin-top: 20px !important;
    }


    /* --- [B] GAMEPLAY UI (REVERTED TO ORIGINAL + BUTTON FIX) --- */
    
    /* 1. Shrink Fonts slightly on mobile */
    .char-header { font-size: 1.5vmin !important; }
    .gold-large { font-size: 2.5vmin !important; }
    .stat-val { font-size: 2vmin !important; }
    .stat-lbl { font-size: 0.9vmin !important; }
    .leader-row { font-size: 1.4vmin !important; padding: 0.2vmin !important; }
    #p1-name { font-size: 1.4vmin !important; }
    #p1-class { font-size: 1vmin !important; }
    
    /* 2. Tighten Layout/Padding */
    .panel { padding: 0.5vmin !important; }
    .stat-grid { gap: 0.1vmin !important; margin-bottom: 0.2vmin !important; }
    .paper-doll { margin-bottom: 0.2vmin !important; padding-top: 0.2vmin !important; }
    #leaderboard h3 { font-size: 1.5vmin !important; margin-bottom: 0.2vmin !important; padding-bottom: 0.2vmin !important; }
    #hud-bottom {
        position: absolute; bottom: 10%; left: 50%; transform: translateX(-50%);
        display: flex; flex-direction: column; align-items: center;
        width: 45%; pointer-events: auto;
    }
    
    /* 3. Shrink Inventory/Equip Slots */
    .equip-slot { height: 2.8vmin !important; font-size: 0.9vmin !important; border-width: 1px !important; }
    .inv-slot { height: 2.8vmin !important; font-size: 0.8vmin !important; border-width: 1px !important; }
    
    /* 4. Shrink Skill Bar (Bottom) */
    .skill-slot { width: 4.5vmin !important; height: 4.5vmin !important; font-size: 0.8vmin !important; border-width: 1px !important; }
    .skill-key { width: 1.2vmin !important; height: 1.2vmin !important; font-size: 0.8vmin !important; top: -2px !important; left: -2px !important; }
    
    /* 5. Tweak Borders for sharpness */
    .panel, .stat-box, #game-log, #skill-bar, button { border-width: 1px !important; }
    
    /* 6. Adjust Controls/Buttons (GAMEPLAY HUD ONLY) */
    #controls { gap: 0.5vmin !important; }
    
    /* We specify which buttons to shrink so we don't accidentally shrink the start screen buttons */
    #controls button, 
    #p1-sheet button, 
    #leaderboard button, 
    .card-modal button,
    .choice-btn { 
        padding: 0.5vmin 1vmin !important; 
        font-size: 1.8vmin !important; 
        border-radius: 4px !important; 
    }
}
